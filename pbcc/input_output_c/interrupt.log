Open PicoBlaze Assembler log for program "interrupt.psm"
Generated by opbasm v1.3.9
  Assembled on 2019-09-14T02:12:35
  Target architecture: PicoBlaze-3

  Last occupied address: 3FF hex
  Nominal program memory size: 1K (1024)  address(9:0)
  Actual memory size: 1024
  Occupied memory locations: 16
  Memory locations available: 1008
  Scratchpad size: 64


Optimizations
-------------
  Static analysis:
    Dead instructions found: 2
    Analyzed entry points: 0x000, 0x3FF
  Dead code removal: Applied


Assembly listing
----------------
000                                          ;--------------------------------------------------------
000                                          ; File Created by SDCC : free open source ANSI-C Compiler
000                                          ; Version 3.0.1 #6227 (Oct 24 2011) (CYGWIN)
000                                          ; This file was generated Sat Sep 14 02:12:24 2019
000                                          ;--------------------------------------------------------
000                                          ;--------------------------------------------------------
000                                          ; global & static initialisations
000                                          ;--------------------------------------------------------

000  00F3F                                   load sf, 3f
001  34002            ╭⤙                     jump __sdcc_program_startup
002                   │                      ;--------------------------------------------------------
002                   │                      ; Home
002                   │                      ;--------------------------------------------------------
002                   │ __sdcc_program_startup:
002  30006           ╭┴⤙                     call _main
003                  │                       ;	return from main will lock up
003                  │          __sdcc_loop:
003  34003           │╰▶                     jump __sdcc_loop
004                  │                       ;--------------------------------------------------------
004                  │                       ; code
004                  │                       ;--------------------------------------------------------
004                  │                       ;	device/include/pblaze/intr.h:30: void pbcc_enable_interrupt(void)
004                  │  _pbcc_enable_interrupt:
004                  │                       ;	device/include/pblaze/intr.h:34: __endasm;
004  3C001           │╭▶                     enable INTERRUPT
005  2A000           ││                      return
006                  ││                      ;	device/include/pblaze/intr.h:37: void pbcc_disable_interrupt(void)
006                  ││ _pbcc_disable_interrupt:
006                  ││                      ;	device/include/pblaze/intr.h:41: __endasm;
                     ││                      ;
006                  ││                      ;REMOVED: disable INTERRUPT
006                  ││                      ;REMOVED: return
006                  ││                      ;	interrupt.c:15: void main()
006                  ││               _main:
006                  ││                      ;	interrupt.c:17: pbcc_enable_interrupt();
006  30004           ╰┴▶                     call _pbcc_enable_interrupt
007                                          ;	interrupt.c:19: while(1) {
007                                 _L00106:
007  34007            ╰▶                     jump _L00106
008                                          ;	interrupt.c:24: void _interrupt_handler(void) __interrupt (1)
008                      _interrupt_handler:
008                                          ;	interrupt.c:27: a = PBLAZEPORT[2];
008  2F0F0            ╭▶                     store s0, (sf)
009  1CF01            │                      sub sf, 01
00A  04002            │                      input s0, 02
00B                   │                      ;	interrupt.c:28: PBLAZEPORT[1] = a;
00B  2C001            │                      output s0, 01
00C  18F01            │                      add sf, 01
00D  070F0            │                      fetch s0, (sf)
00E  38001            │                      returni ENABLE
3FF                   │                      ;--------------------------------------------------------
3FF                   │                      ; interrupt vector
3FF                   │                      ;--------------------------------------------------------
3FF                   │                      address 3ff
3FF  34008            ╰⤙                     jump _interrupt_handler

All unused memory locations contain zero (equivalent to "LOAD s0, 00")


PSM files that have been assembled
----------------------------------
    /home/saul/projects/picoblaze/pbcc/input_output_c/interrupt.psm


List of defined constants
-------------------------
    CONSTANT name      Value  Source PSM file
 ----------------      -----  ---------------
    BEL                07
    BS                 08
    CR                 0D
    DCS                90
    DEL                7F
    ESC                1B
    HT                 09
    LF                 0A
    NUL                00
    ST                 9C
    VT                 0B
    datestamp_day      0E
    datestamp_month    09
    datestamp_year     13
    timestamp_hours    02
    timestamp_minutes  0C
    timestamp_seconds  23


  No tables defined


List of text strings
--------------------
    STRING name      Value          Source PSM file
 --------------      -----          ---------------
    Opbasm_version$  "1.3.9"
    datestamp$       "14 Sep 2019"
    timestamp$       "02:12:35"


List of line labels
-------------------
    Label                    Addr  Source PSM file
 --------                    ----  ---------------
    _L00106                  007   interrupt.psm
    __sdcc_loop              003   interrupt.psm
    __sdcc_program_startup   002   interrupt.psm
    _interrupt_handler       008   interrupt.psm
    _main                    006   interrupt.psm
 *  _pbcc_disable_interrupt  006   interrupt.psm
    _pbcc_enable_interrupt   004   interrupt.psm

       * Unreferenced label(s)


List of pragma blocks
---------------------
   Name  Addr range  Value
   ----  ----------  -----


Instruction usage statistics
----------------------------
   Instruction  Instances
   -----------  ---------
   ADD          1
   ADDCY        -
   AND          -
   CALL         2
   COMPARE      -
   DISABLE      -
   ENABLE       1
   FETCH        1
   INPUT        1
   JUMP         4
   LOAD         1
   OR           -
   OUTPUT       1
   RETURN       1
   RETURNI      1
   RL           -
   RR           -
   SL0          -
   SL1          -
   SLA          -
   SLX          -
   SR0          -
   SR1          -
   SRA          -
   SRX          -
   STORE        1
   SUB          1
   SUBCY        -
   TEST         -
   XOR          -
