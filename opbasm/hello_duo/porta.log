Open PicoBlaze Assembler log for program "porta.psm4"
Generated by opbasm v1.3.9
  Assembled on 2019-09-10T11:09:57
  Target architecture: PicoBlaze-3

  Last occupied address: 028 hex
  Nominal program memory size: 1K (1024)  address(9:0)
  Actual memory size: 1024
  Occupied memory locations: 41
  Memory locations available: 983
  Scratchpad size: 64


Optimizations
-------------
  Static analysis:
    Dead instructions found: 0
    Analyzed entry points: 0x000, 0x005, 0x3FF


Assembly listing
----------------
000                                          ;Porta.psm4

000                                          ;:::::::::: Configure test environment ::::::::::
000                                          namereg sd, ERRORS             ; Error count
000                                          namereg se, TEMP               ; Temp register
000                                          namereg sf, SP                 ; Stack pointer

000                                          constant portConsole, FE
000                                          constant portQuit, FF
000                                          constant portISR, FC

000                                          constant portROM_H, fa
000                                          constant portROM_L, fb












000  00F3F                                   load SP, 3f
001  00D00                                   load ERRORS, 00

002  34006           ╭─⤙                     jump init_done
                     │
003                  │                       ;:::::::::: Finish testcase ::::::::::
                     │
003  2CDFF      ╭─────┬▶          terminate: output ERRORS, portQuit        ; End normally
004  34003      │    │╰⤙                     jump terminate
                │    │
005             │    │                       default_jump exec_error
005  34005      │    │╰▶         exec_error: jump exec_error                ; End by exceeding instruction limit
                │    │
006             │    │            init_done:
                │    │
                │    │
006             │    │                       ;Set clock frequency Papilio Duo 32 MHz
                │    │
                │    │
                │    │
006             │    │                       ;PortA definitions
006             │    │                       ;Output port A address
                │    │
                │    │
006  3401F      │ ╭──┴─⤙                     jump main
                │ │
007             │ │             delay_200ms:
007             │ │                          ; Delay for 200 ms at 32 MHz
007  004FF      │╭─────▶                     load s4, ff                    ; 65305
008  00519      │││                          load s5, 19
009             │││         &&DELAY_f1_0001: ; Total loop delay: 49 instructions
009  3000B      │││╭─┬─▶                     call &&DTREE_f1_0002_4         ; Delay for 33 cycles
00A  34010      ││││╭──⤙                     jump &&DTREE_f1_0002_end
00B  3000C      │││││╰┬▶  &&DTREE_f1_0002_4: call &&DTREE_f1_0002_3
00C  3000D      │││││╭┴⤙  &&DTREE_f1_0002_3: call &&DTREE_f1_0002_2
00D  3000E      │││││╰╭⤙  &&DTREE_f1_0002_2: call &&DTREE_f1_0002_1
00E  3000F      │││││╭┴⤙  &&DTREE_f1_0002_1: call &&DTREE_f1_0002_0
00F  2A000      │││││╰─▶  &&DTREE_f1_0002_0: return
010             │││││   &&DTREE_f1_0002_end:
010  30012      ││││╰┬─▶                     call &&DTREE_f1_0003_2         ; Delay for 9 cycles
011  34015      ││││╭──⤙                     jump &&DTREE_f1_0003_end
012  30013      │││││╰┬▶  &&DTREE_f1_0003_2: call &&DTREE_f1_0003_1
013  30014      │││││╭┴⤙  &&DTREE_f1_0003_1: call &&DTREE_f1_0003_0
014  2A000      │││││╰─▶  &&DTREE_f1_0003_0: return
015             │││││   &&DTREE_f1_0003_end:
015  01EE0      ││││╰──▶                     load TEMP, TEMP                ; NOP
016  01EE0      ││││                         load TEMP, TEMP                ; NOP
017  01EE0      ││││                         load TEMP, TEMP                ; NOP
018  01EE0      ││││                         load TEMP, TEMP                ; NOP
                ││││
019  1C501      ││││                         sub s5, 01                     ; 1
01A  1E400      ││││                         subcy s4, 00
01B  35C09      │││╰───⤙                     jump nc, &&DELAY_f1_0001
01C             │││                          ; Adjust delay with 2 additional instruction cycles
01C  01EE0      │││                          load TEMP, TEMP                ; NOP
01D  01EE0      │││                          load TEMP, TEMP                ; NOP
01E             │││                          ; adjust 2 bit instructions to account for call and return
01E  2A000      │││                          return
                │││
                │││
01F             │││                    main:
01F  0000F      ││╰────▶                     load s0, 0f
020  001FF      ││                           load s1, ff
                ││
021             ││          &&WHILE_f1_0004:
021             ││                           ; If s1 != 0
021  14100      ││    ╭▶                     compare s1, 00
022  35028      ││   ╭─⤙                     jump z, &&EQ_f1_0006
                ││   ││
023  2C001      ││   ││                      output s0, 0x01
024  30007      │╰─────⤙                     call delay_200ms
025  0E055      │    ││                      xor s0, 55
026  1C101      │    ││                      sub s1, 1
                │    ││
027  34021      │    │╰⤙                     jump &&WHILE_f1_0004
                │    │
028             │    │         &&EQ_f1_0006:
                │    │
                │    │
028             │    │    &&ENDLOOP_f1_0005:
                │    │
028  34003      ╰────┴─⤙                     jump terminate













All unused memory locations contain a DEFAULT_JUMP to 005


PSM files that have been assembled
----------------------------------
    /home/saul/projects/picoblaze/opbasm/hello_duo/porta.psm4


List of defined constants
-------------------------
    CONSTANT name      Value  Source PSM file
 ----------------      -----  ---------------
    BEL                07
    BS                 08
    CR                 0D
    DCS                90
    DEL                7F
    ESC                1B
    HT                 09
    LF                 0A
    NUL                00
    ST                 9C
    VT                 0B
    datestamp_day      0A
    datestamp_month    09
    datestamp_year     13
 *  portConsole        FE     porta.psm4
 *  portISR            FC     porta.psm4
    portQuit           FF     porta.psm4
 *  portROM_H          fa     porta.psm4
 *  portROM_L          fb     porta.psm4
    timestamp_hours    0B
    timestamp_minutes  09
    timestamp_seconds  39

       * Unreferenced constant(s)


  No tables defined


List of text strings
--------------------
    STRING name      Value          Source PSM file
 --------------      -----          ---------------
    Opbasm_version$  "1.3.9"
    datestamp$       "10 Sep 2019"
    timestamp$       "11:09:57"


List of line labels
-------------------
    Label                Addr  Source PSM file
 --------                ----  ---------------
    &&DELAY_f1_0001      009   porta.psm4
    &&DTREE_f1_0002_0    00F   porta.psm4
    &&DTREE_f1_0002_1    00E   porta.psm4
    &&DTREE_f1_0002_2    00D   porta.psm4
    &&DTREE_f1_0002_3    00C   porta.psm4
    &&DTREE_f1_0002_4    00B   porta.psm4
    &&DTREE_f1_0002_end  010   porta.psm4
    &&DTREE_f1_0003_0    014   porta.psm4
    &&DTREE_f1_0003_1    013   porta.psm4
    &&DTREE_f1_0003_2    012   porta.psm4
    &&DTREE_f1_0003_end  015   porta.psm4
 *  &&ENDLOOP_f1_0005    028   porta.psm4
    &&EQ_f1_0006         028   porta.psm4
    &&WHILE_f1_0004      021   porta.psm4
    delay_200ms          007   porta.psm4
    exec_error           005   porta.psm4
    init_done            006   porta.psm4
    main                 01F   porta.psm4
    terminate            003   porta.psm4

       * Unreferenced label(s)


List of pragma blocks
---------------------
   Name  Addr range  Value
   ----  ----------  -----


Instruction usage statistics
----------------------------
   Instruction  Instances
   -----------  ---------
   ADD          -
   ADDCY        -
   AND          -
   CALL         9
   COMPARE      1
   DISABLE      -
   ENABLE       -
   FETCH        -
   INPUT        -
   JUMP         10
   LOAD         12
   OR           -
   OUTPUT       2
   RETURN       3
   RETURNI      -
   RL           -
   RR           -
   SL0          -
   SL1          -
   SLA          -
   SLX          -
   SR0          -
   SR1          -
   SRA          -
   SRX          -
   STORE        -
   SUB          2
   SUBCY        1
   TEST         -
   XOR          1
